$(function(){function e(){i()}function i(){var e=$("div.za-insure-download");$.ajax({url:"/dm/open/cms/CmsScreen/getMaterialList.json?applyChannel=0&channelEnName=material_download",dataType:"json",method:"GET",success:function(i){i=i||{};for(var a,n,s=i.jsonObjects||[],o="",l=0,r=s.length;l<r;l++)a=s[l],n=a.title+".pdf",o+=['<div class="insure-item">','<div class="insure-item-hd">','<h3 class="item-title" style="cursor: pointer;">'+a.title+"</h3>",'<a href="javascript:void(0);" data-ilog="1.27.xZ2" data-url="'+a.filePath+'" data-name="'+n+'" class="btn-download" id="insure-btn-download">'+a.fileName+"</a>","</div>",'<div class="insure-item-bd">','<p class="desc">'+a.summary+"</p>",'<p class="tags">适用的保险产品：<span class="tags-item">'+a.remark+"</span></p>","</div>","</div>"].join("");e.html(o),t()},error:function(e){console.log(e)}})}function t(){$($("div.za-insure-download .insure-item")[0]).addClass("insure-item-cur"),$("a#insure-btn-download").off("click").on("click",function(){var e=this,i=$(e).attr("data-url"),t=$(e).attr("data-name");a(i,t)}),$(".insure-item .item-title").on("click",function(){$(this).parents(".insure-item").toggleClass("insure-item-cur").siblings(".insure-item").removeClass("insure-item-cur")})}function a(e,i){if(!/^https?:/.test(e)){var t=location.protocol;e=t+e}postRequest("/open/common/downloadFileScreen/downloadFileFromCMSForWebsite.do",{filePath:e,fileName:i})}e()});